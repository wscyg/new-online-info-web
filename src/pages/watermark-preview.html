<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>水印效果预览 - www.infofuture.online</title>
    <link rel="stylesheet" href="/assets/skins/app-shell.css">
<link rel="stylesheet" href="../styles/apple-design.css">
    <style>
        /* 水印容器样式 */
        .watermark-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }

        /* 多个斜向水印网格 */
        .watermark-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 20px;
            padding: 50px;
        }

        .watermark-item {
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotate(-45deg);
            font-size: 28px;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.04);
            white-space: nowrap;
            user-select: none;
            font-family: var(--font-sans);
        }

        /* 暗色主题水印适配 */
        [data-theme="dark"] .watermark-item {
            color: rgba(255, 255, 255, 0.04);
        }

        /* 交替不同透明度创建层次感 */
        .watermark-item:nth-child(odd) {
            color: rgba(0, 0, 0, 0.03);
        }

        [data-theme="dark"] .watermark-item:nth-child(odd) {
            color: rgba(255, 255, 255, 0.03);
        }

        .watermark-item:nth-child(even) {
            color: rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] .watermark-item:nth-child(even) {
            color: rgba(255, 255, 255, 0.05);
        }

        .watermark-left {
            position: absolute;
            top: 50%;
            left: 10%;
            transform: translateY(-50%) rotate(-90deg);
            font-size: 24px;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.08);
            white-space: nowrap;
            user-select: none;
        }

        [data-theme="dark"] .watermark-left {
            color: rgba(255, 255, 255, 0.08);
        }

        .watermark-right {
            position: absolute;
            top: 50%;
            right: 10%;
            transform: translateY(-50%) rotate(90deg);
            font-size: 24px;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.08);
            white-space: nowrap;
            user-select: none;
        }

        [data-theme="dark"] .watermark-right {
            color: rgba(255, 255, 255, 0.08);
        }

        .watermark-pattern {
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background-image: repeating-linear-gradient(
                -45deg,
                transparent,
                transparent 200px,
                rgba(0, 0, 0, 0.02) 200px,
                rgba(0, 0, 0, 0.02) 400px
            );
        }

        [data-theme="dark"] .watermark-pattern {
            background-image: repeating-linear-gradient(
                -45deg,
                transparent,
                transparent 200px,
                rgba(255, 255, 255, 0.02) 200px,
                rgba(255, 255, 255, 0.02) 400px
            );
        }

        /* 页面主体内容 */
        body {
            padding-top: 48px;
        }

        .main-content {
            min-height: 100vh;
            padding: 48px 0;
        }

        .content-wrapper {
            max-width: 980px;
            margin: 0 auto;
            padding: 0 22px;
        }

        .demo-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 32px;
            border-radius: var(--radius-lg);
            margin: 32px 0;
        }

        .demo-box h2 {
            color: white;
            margin-bottom: 16px;
        }

        .demo-box p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 16px;
        }

        .demo-box ul {
            list-style: none;
            padding: 0;
        }

        .demo-box li {
            padding: 8px 0;
            color: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .demo-box li::before {
            content: '';
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="white"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"/></svg>') center/contain no-repeat;
            flex-shrink: 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin: 32px 0;
        }

        .feature-card {
            background: var(--bg-card);
            padding: 24px;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
        }

        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-card);
        }

        .feature-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }

        .feature-icon svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .feature-card h3 {
            font-size: 19px;
            margin-bottom: 8px;
        }

        .feature-card p {
            font-size: 15px;
            line-height: 1.5;
        }

        /* SVG 图标 */
        .icon {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .page-header {
            margin-bottom: 24px;
        }

        .page-title {
            margin-bottom: 16px;
        }

        .page-description {
            font-size: 19px;
            line-height: 1.6;
        }

        .section-heading {
            font-size: 32px;
            margin: 48px 0 24px;
        }

        .section-text {
            font-size: 17px;
            line-height: 1.6;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="../index.html" class="nav-logo">AI Master Class</a>
            <div class="nav-menu">
                <a href="../index.html" class="nav-link">首页</a>
                <a href="./courses.html" class="nav-link">课程</a>
                <a href="./community.html" class="nav-link">社区</a>
                <a href="./arena.html" class="nav-link">PK竞技</a>
            </div>
            <div class="nav-actions">
                <div id="authArea"></div>
                <button class="theme-toggle" id="themeToggle" aria-label="切换主题">
                    <svg class="icon" id="sunIcon" style="display: none;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z" />
                    </svg>
                    <svg class="icon" id="moonIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z" clip-rule="evenodd" />
                    </svg>
                </button>
                
                    
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" id="logoutBtn">
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd" />
                                <path fill-rule="evenodd" d="M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z" clip-rule="evenodd" />
                            </svg>
                            <span>退出登录</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- 水印容器 -->
    <div class="watermark-container">
        <div class="watermark-pattern"></div>
        <div class="watermark-grid">
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
            <div class="watermark-item">www.infofuture.online</div>
        </div>
        <div class="watermark-left">
            用户: cygws123 | www.infofuture.online
        </div>
        <div class="watermark-right">
            用户: cygws123 | www.infofuture.online
        </div>
    </div>

    <!-- 页面内容 -->
    <main class="main-content">
        <div class="content-wrapper">
            <div class="page-header">
                <h1 class="page-title">水印效果预览</h1>
                <p class="page-description">这是一个水印效果的预览页面。水印会显示在所有打开的课程章节内容上，包含网站地址和用户名信息。</p>
            </div>

            <div class="demo-box">
                <h2>水印特性</h2>
                <p>我们的水印系统具有以下特点：</p>
                <ul>
                    <li>大型中央水印 - 显示网站域名</li>
                    <li>两侧用户标识 - 显示当前登录用户</li>
                    <li>透明度优化 - 不影响内容阅读</li>
                    <li>防删除保护 - 自动恢复被删除的水印</li>
                    <li>响应式设计 - 适配各种屏幕尺寸</li>
                </ul>
            </div>

            <h2 class="section-heading">水印布局说明</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M4.25 2A2.25 2.25 0 002 4.25v11.5A2.25 2.25 0 004.25 18h11.5A2.25 2.25 0 0018 15.75V4.25A2.25 2.25 0 0015.75 2H4.25zM15 5.75a.75.75 0 00-1.5 0v8.5a.75.75 0 001.5 0v-8.5zm-8.5 6a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5zm3.5-4a.75.75 0 00-1.5 0v6.5a.75.75 0 001.5 0v-6.5z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3>多个小水印</h3>
                    <p>3x4网格布局，共12个斜向水印，28px字体大小，均匀分布在页面上</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z" />
                        </svg>
                    </div>
                    <h3>左侧用户信息</h3>
                    <p>垂直显示在页面左侧，包含用户名和网站地址</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z" />
                        </svg>
                    </div>
                    <h3>右侧用户信息</h3>
                    <p>垂直显示在页面右侧，与左侧对称</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3>安全保护</h3>
                    <p>使用MutationObserver监控，防止水印被恶意删除</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M1 4.75C1 3.784 1.784 3 2.75 3h14.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0117.25 17H2.75A1.75 1.75 0 011 15.25V4.75zm16.5 0a.25.25 0 00-.25-.25H2.75a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h14.5a.25.25 0 00.25-.25V4.75z" clip-rule="evenodd" />
                            <path d="M10 8a2 2 0 100 4 2 2 0 000-4z" />
                        </svg>
                    </div>
                    <h3>视觉优化</h3>
                    <p>精心调整的透明度，既能标识版权又不影响阅读</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3>深色模式</h3>
                    <p>自动适配深色模式，确保在不同主题下都能正常显示</p>
                </div>
            </div>

            <h2 class="section-heading">实际应用场景</h2>
            <p class="section-text">
                当用户打开任何课程章节内容时，系统会自动在新窗口或模态框中添加这个水印。
                水印会显示当前登录用户的用户名，以及我们网站的地址 www.infofuture.online。
            </p>

            <p class="section-text">
                这个水印设计既能有效保护内容版权，又不会过度影响用户的学习体验。
                透明度和位置都经过精心调整，确保在标识内容归属的同时，保持良好的可读性。
            </p>

            <div style="height: 200px;"></div>
        </div>
    </main>

    <script>
        const API_BASE = '/api';

        // 主题切换功能
        const themeToggle = document.getElementById('themeToggle');
        const sunIcon = document.getElementById('sunIcon');
        const moonIcon = document.getElementById('moonIcon');
        const html = document.documentElement;

        // 初始化主题
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') {
            html.setAttribute('data-theme', 'dark');
            sunIcon.style.display = 'block';
            moonIcon.style.display = 'none';
        }

        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);

            if (newTheme === 'dark') {
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
            } else {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';

        // 用户认证和菜单
        const userMenu = document.getElementById('userMenu');
        const userAvatar = document.getElementById('userAvatar');
                const logoutBtn = document.getElementById('logoutBtn');

        // 检查登录状态
        const token = localStorage.getItem('token');
        const savedUser = localStorage.getItem('user');

        if (token && savedUser) {
            try {
                const user = JSON.parse(savedUser);
                const username = user.username || user.nickname || user.email || '学员';

                // 显示用户头像（首字母）
                userAvatar.textContent = username.charAt(0).toUpperCase();

                // 更新水印中的用户名
                document.querySelectorAll('.watermark-left, .watermark-right').forEach(el => {
                    el.textContent = `用户: ${username} | www.infofuture.online`;
                });
            } catch (e) {
                console.error('解析用户信息失败:', e);
            }
        } else {
            // 未登录，重定向到登录页
            window.location.href = './login.html';
        }

        // 用户菜单切换
        userAvatar.addEventListener('click', (e) => {
            e.stopPropagation();
                    });

        // 点击其他地方关闭菜单
                });

        // 退出登录
        logoutBtn.addEventListener('click', () => {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = './login.html';
        });

        // 防止水印被删除的保护机制
        const watermarkContainer = document.querySelector('.watermark-container');
        const observer = new MutationObserver(function(mutations) {
            const watermark = document.querySelector('.watermark-container');
            if (!watermark && watermarkContainer) {
                document.body.appendChild(watermarkContainer.cloneNode(true));
                console.log('水印已自动恢复');

        observer.observe(document.body, {
            childList: true,
            subtree: true
        });
    </script>
    <script src="/js/app-shell.js"></script>
    
</body>
</html>
