import"./modulepreload-polyfill-3cfb730f.js";/* empty css                     */const E="/assets/battle-2ea45079.js",d=document.getElementById("themeToggle"),c=document.documentElement,r=d.querySelector(".sun-icon"),i=d.querySelector(".moon-icon"),m=document.getElementById("hljs-light"),u=document.getElementById("hljs-dark"),w=localStorage.getItem("theme")||"light";c.setAttribute("data-theme",w);y(w);d.addEventListener("click",()=>{const n=c.getAttribute("data-theme")==="dark"?"light":"dark";c.setAttribute("data-theme",n),localStorage.setItem("theme",n),y(n)});function y(t){t==="dark"?(r.style.display="none",i.style.display="block",m.disabled=!0,u.disabled=!1):(r.style.display="block",i.style.display="none",m.disabled=!1,u.disabled=!0)}const I=document.getElementById("userAvatar"),h=JSON.parse(localStorage.getItem("user")||"{}");h.username&&(I.textContent=h.username.charAt(0).toUpperCase());const k=new URLSearchParams(window.location.search),g=k.get("battleId");if(!g)alert("无效的对战ID"),window.location.href="pk-arena-new.html";else{const t=new E(g);document.addEventListener("DOMContentLoaded",async()=>{await t.init()}),window.addEventListener("beforeunload",()=>{t.cleanup()}),window.pkBattle=t}const s=document.getElementById("forfeitBtn"),e=document.getElementById("forfeitModal"),o=document.getElementById("closeForfeitModal"),a=document.getElementById("cancelForfeitBtn"),l=document.getElementById("confirmForfeitBtn");s==null||s.addEventListener("click",()=>{e.classList.add("show")});o==null||o.addEventListener("click",()=>{e.classList.remove("show")});a==null||a.addEventListener("click",()=>{e.classList.remove("show")});l==null||l.addEventListener("click",()=>{e.classList.remove("show"),window.pkBattle&&window.pkBattle.forfeit()});e==null||e.addEventListener("click",t=>{t.target===e&&e.classList.remove("show")});
