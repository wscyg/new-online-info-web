import"./modulepreload-polyfill-3cfb730f.js";/* empty css                     */const I="/assets/battle-65d929c0.js",l=document.getElementById("themeToggle"),c=document.documentElement,i=l.querySelector(".sun-icon"),r=l.querySelector(".moon-icon"),m=document.getElementById("hljs-light"),u=document.getElementById("hljs-dark"),y=localStorage.getItem("theme")||"light";c.setAttribute("data-theme",y);E(y);l.addEventListener("click",()=>{const n=c.getAttribute("data-theme")==="dark"?"light":"dark";c.setAttribute("data-theme",n),localStorage.setItem("theme",n),E(n)});function E(t){t==="dark"?(i.style.display="none",r.style.display="block",m.disabled=!0,u.disabled=!1):(i.style.display="block",r.style.display="none",m.disabled=!1,u.disabled=!0)}const k=document.getElementById("userAvatar"),h=JSON.parse(localStorage.getItem("user")||"{}");h.username&&(k.textContent=h.username.charAt(0).toUpperCase());const g=new URLSearchParams(window.location.search),w=g.get("battleId")||g.get("id");if(!w)alert("无效的对战ID"),window.location.href="pk-arena.html";else{const t=new I(w);document.addEventListener("DOMContentLoaded",async()=>{await t.init()}),window.addEventListener("beforeunload",()=>{t.cleanup()}),window.pkBattle=t}const s=document.getElementById("forfeitBtn"),e=document.getElementById("forfeitModal"),o=document.getElementById("closeForfeitModal"),a=document.getElementById("cancelForfeitBtn"),d=document.getElementById("confirmForfeitBtn");s==null||s.addEventListener("click",()=>{e.classList.add("show")});o==null||o.addEventListener("click",()=>{e.classList.remove("show")});a==null||a.addEventListener("click",()=>{e.classList.remove("show")});d==null||d.addEventListener("click",()=>{e.classList.remove("show"),window.pkBattle&&window.pkBattle.forfeit()});e==null||e.addEventListener("click",t=>{t.target===e&&e.classList.remove("show")});
